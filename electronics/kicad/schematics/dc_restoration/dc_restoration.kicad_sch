(kicad_sch (version 20230121) (generator eeschema)

  (uuid 6875c28e-3481-438e-9d82-0ca66992463d)

  (paper "A4")

  (title_block
    (title "DC Restoration")
  )

  (lib_symbols
    (symbol "Device:D" (pin_numbers hide) (pin_names (offset 1.016) hide) (in_bom yes) (on_board yes)
      (property "Reference" "D" (at 0 2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "D" (at 0 -2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Sim.Device" "D" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Sim.Pins" "1=K 2=A" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "diode" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Diode" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "TO-???* *_Diode_* *SingleDiode* D_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "D_0_1"
        (polyline
          (pts
            (xy -1.27 1.27)
            (xy -1.27 -1.27)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 0)
            (xy -1.27 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 1.27)
            (xy 1.27 -1.27)
            (xy -1.27 0)
            (xy 1.27 1.27)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
      )
      (symbol "D_1_1"
        (pin passive line (at -3.81 0 0) (length 2.54)
          (name "K" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 3.81 0 180) (length 2.54)
          (name "A" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:Transformer_1P_1S" (pin_names (offset 1.016) hide) (in_bom yes) (on_board yes)
      (property "Reference" "T" (at 0 6.35 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "Transformer_1P_1S" (at 0 -7.62 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "transformer coil magnet" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Transformer, single primary, single secondary" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "Transformer_1P_1S_0_1"
        (arc (start -2.54 -5.0546) (mid -1.6599 -4.6901) (end -1.27 -3.81)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start -2.54 -2.5146) (mid -1.6599 -2.1501) (end -1.27 -1.27)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start -2.54 0.0254) (mid -1.6599 0.3899) (end -1.27 1.27)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start -2.54 2.5654) (mid -1.6599 2.9299) (end -1.27 3.81)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start -1.27 -3.81) (mid -1.642 -2.912) (end -2.54 -2.54)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start -1.27 -1.27) (mid -1.642 -0.372) (end -2.54 0)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start -1.27 1.27) (mid -1.642 2.168) (end -2.54 2.54)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start -1.27 3.81) (mid -1.642 4.708) (end -2.54 5.08)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -0.635 5.08)
            (xy -0.635 -5.08)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.635 -5.08)
            (xy 0.635 5.08)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 1.2954 -1.27) (mid 1.6599 -2.1501) (end 2.54 -2.5146)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 1.2954 1.27) (mid 1.6599 0.3899) (end 2.54 0.0254)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 1.2954 3.81) (mid 1.6599 2.9299) (end 2.54 2.5654)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 1.3208 -3.81) (mid 1.6853 -4.6901) (end 2.5654 -5.0546)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 2.54 0) (mid 1.642 -0.372) (end 1.2954 -1.27)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 2.54 2.54) (mid 1.642 2.168) (end 1.2954 1.27)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 2.54 5.08) (mid 1.642 4.708) (end 1.2954 3.81)
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 2.5654 -2.54) (mid 1.6674 -2.912) (end 1.3208 -3.81)
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "Transformer_1P_1S_1_1"
        (pin passive line (at -10.16 5.08 0) (length 7.62)
          (name "AA" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at -10.16 -5.08 0) (length 7.62)
          (name "AB" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 10.16 -5.08 180) (length 7.62)
          (name "SA" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 10.16 5.08 180) (length 7.62)
          (name "SB" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "dc_restoration-rescue:CP1-Device" (pin_numbers hide) (pin_names (offset 0.254) hide) (in_bom yes) (on_board yes)
      (property "Reference" "C" (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "Device_CP1" (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "CP_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "CP1-Device_0_1"
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type solid))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.778 2.286)
            (xy -0.762 2.286)
          )
          (stroke (width 0) (type solid))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.27 1.778)
            (xy -1.27 2.794)
          )
          (stroke (width 0) (type solid))
          (fill (type none))
        )
        (arc (start 2.032 -1.27) (mid 0 -0.5572) (end -2.032 -1.27)
          (stroke (width 0.508) (type solid))
          (fill (type none))
        )
      )
      (symbol "CP1-Device_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 3.302)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:VAC" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -2.54 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "VAC" (at 0 6.35 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"VAC\"" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "VAC_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (arc (start 0 3.175) (mid -0.635 3.8073) (end -1.27 3.175)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (arc (start 0 3.175) (mid 0.635 2.5427) (end 1.27 3.175)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (circle (center 0 3.175) (radius 1.905)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
      )
      (symbol "VAC_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "VAC" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 137.16 82.55) (diameter 0) (color 0 0 0 0)
    (uuid 5770ea55-8061-4a40-abf1-1e096f041f98)
  )
  (junction (at 88.9 77.47) (diameter 0) (color 0 0 0 0)
    (uuid a8bfccc1-b984-4373-9c2d-5d992a42e6af)
  )
  (junction (at 137.16 72.39) (diameter 0) (color 0 0 0 0)
    (uuid c0baf539-bba0-4559-b6c5-40bb9776a42d)
  )

  (wire (pts (xy 116.84 72.39) (xy 124.46 72.39))
    (stroke (width 0) (type default))
    (uuid 10ced24c-a42c-40f7-bb7e-569e8ecbe176)
  )
  (wire (pts (xy 153.67 72.39) (xy 153.67 82.55))
    (stroke (width 0) (type default))
    (uuid 35322a18-5f37-492b-97fe-700edc109a58)
  )
  (wire (pts (xy 153.67 82.55) (xy 137.16 82.55))
    (stroke (width 0) (type default))
    (uuid 48f06cdc-5210-4d22-8715-6a7ad2697921)
  )
  (wire (pts (xy 88.9 77.47) (xy 88.9 82.55))
    (stroke (width 0) (type default))
    (uuid 7504b4b8-8a17-4562-b9d8-2569aeafaa90)
  )
  (wire (pts (xy 132.08 72.39) (xy 137.16 72.39))
    (stroke (width 0) (type default))
    (uuid 84d8472b-4cee-4c05-9405-2d24b1cd9710)
  )
  (wire (pts (xy 116.84 82.55) (xy 137.16 82.55))
    (stroke (width 0) (type default))
    (uuid 8bd89290-0135-44b7-9f8e-2fe178166c61)
  )
  (wire (pts (xy 88.9 72.39) (xy 96.52 72.39))
    (stroke (width 0) (type default))
    (uuid a1b77fb0-31b1-40b4-a14f-23996189ef23)
  )
  (wire (pts (xy 137.16 82.55) (xy 137.16 80.01))
    (stroke (width 0) (type default))
    (uuid a88c05bf-f17c-48ec-9e75-c73b778524b3)
  )
  (wire (pts (xy 137.16 72.39) (xy 153.67 72.39))
    (stroke (width 0) (type default))
    (uuid bb4afd91-7476-4202-92d4-10022d10e5b2)
  )
  (wire (pts (xy 88.9 82.55) (xy 96.52 82.55))
    (stroke (width 0) (type default))
    (uuid dfd59124-f2dd-4fc8-b5da-0ede4c37daf9)
  )
  (wire (pts (xy 88.9 77.47) (xy 88.9 72.39))
    (stroke (width 0) (type default))
    (uuid efdd3f45-bc49-44d1-8162-78181c80bd44)
  )

  (text "DC Restoration adds an offset to the positive/negative peak of the AC signal.\nFor example if the AC signal is +-VPEAK the DC restoration circuit can output 2*VPEAK as one of its configuration.\nThe AC voltage source connects to the transformer to up/down convert the voltage.\nThe transformer T1 pin 5 and 8 is connected to C1 and the anode of D1.\nCapacitor C1 and and diode D1 forms a half-wave rectifier and capacitor circuit, charging C1 to VPEAK.\nOnce C1 is charged to max, we can view it as a VPEAK volt battery (a constant DC source), adding a DC offset.\nHence the output is a level shifted AC signal."
    (at 81.28 106.68 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid f0271cd8-c6d4-4ace-a1f6-8ce1b1170db1)
  )

  (label "V_CR1" (at 153.67 77.47 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 2f340cf3-a9cf-47f5-8159-789a8822cbb2)
  )

  (symbol (lib_id "power:VAC") (at 88.9 77.47 90) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-00006121b30f)
    (property "Reference" "#PWR01" (at 91.44 77.47 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "VAC" (at 83.058 77.47 90)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 88.9 77.47 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 88.9 77.47 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid f15aa544-6ba2-4271-8e2f-4e596b0a47e1))
    (instances
      (project "dc_restoration"
        (path "/6875c28e-3481-438e-9d82-0ca66992463d"
          (reference "#PWR01") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:Transformer_1P_1S") (at 106.68 77.47 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-00006121bd35)
    (property "Reference" "T1" (at 106.68 67.7926 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "Transformer_1P_1S" (at 106.68 70.104 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 106.68 77.47 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 106.68 77.47 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 9d11292a-b4ef-40ed-9e94-cb9c66dbfd5e))
    (pin "2" (uuid 1f170b73-3947-4ddf-95e4-2cabce79a1a3))
    (pin "3" (uuid 7dec01bd-de71-4e94-9509-fb4f058858bf))
    (pin "4" (uuid 58ec6d16-7698-45d0-9109-2361173cd381))
    (instances
      (project "dc_restoration"
        (path "/6875c28e-3481-438e-9d82-0ca66992463d"
          (reference "T1") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "dc_restoration-rescue:CP1-Device") (at 128.27 72.39 270) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-00006121f534)
    (property "Reference" "C1" (at 129.4384 75.311 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "CP1" (at 127.127 75.311 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 128.27 72.39 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 128.27 72.39 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid d417bf0f-af1e-404f-8e35-ef63be5fecf7))
    (pin "2" (uuid b9239a9c-bd25-46ad-8900-b0845ecc26da))
    (instances
      (project "dc_restoration"
        (path "/6875c28e-3481-438e-9d82-0ca66992463d"
          (reference "C1") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:D") (at 137.16 76.2 270) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-00006121fe8e)
    (property "Reference" "D1" (at 142.6718 76.2 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "D" (at 140.3604 76.2 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 137.16 76.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 137.16 76.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 4fbb4cf7-e054-4d04-b5bd-56e949dcad9b))
    (pin "2" (uuid 51cc8d47-9b23-4a60-bb85-e04a2561b902))
    (instances
      (project "dc_restoration"
        (path "/6875c28e-3481-438e-9d82-0ca66992463d"
          (reference "D1") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 137.16 82.55 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000061220889)
    (property "Reference" "#PWR02" (at 137.16 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 137.287 86.9442 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 137.16 82.55 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 137.16 82.55 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid aa295379-9a0f-4e0b-8c8c-b56707f559fd))
    (instances
      (project "dc_restoration"
        (path "/6875c28e-3481-438e-9d82-0ca66992463d"
          (reference "#PWR02") (unit 1)
        )
      )
    )
  )

  (sheet_instances
    (path "/" (page "1"))
  )
)
